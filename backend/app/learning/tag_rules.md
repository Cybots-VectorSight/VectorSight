# VectorSight Visual Knowledge

> This document is read and edited by the self-reflection system.
> Everything below is learned from actual SVG analysis sessions.
> Add new learnings, reorganize, or correct entries as experience grows.

## Learned

- Stroke-based circles with perfect metrics (1.00 circularity/convexity/aspect) are a reliable UI icon marker. The low fill percentage in such cases reflects rendering technique (stroke vs. fill), not compositional sparsity. Perfect symmetry across all three dimensions, combined with single-element structure and centered placement, is a strong indicator of a geometric UI element rather than an illustration or logo. This pattern can help distinguish simple icons from other SVG types early.

- Stroke-based geometric primitives (circles, squares) with perfect metric symmetry (1.00 circularity, convexity, aspect ratio) across all three dimensions, combined with single-element structure, centered placement, and low fill percentage are highly reliable indicators of functional UI elements. The corner count in such cases reflects Bézier control point density (typically 12 for a 4-curve circle approximation), not visual angularity. This pattern should be recognized as a distinct category—'functional geometric UI element'—separate from logos, illustrations, and ornamental designs. The absence of fill is a rendering technique marker, not a compositional property.

- Confirmed and reinforced: stroke-based circles with perfect metrics (1.00 across circularity, convexity, aspect ratio), single-element structure, centered placement, and 8% fill percentage are a reliable marker for functional geometric UI icons. The grid corner count of 12 for a smooth circle is a standard artifact of cubic Bézier approximation (4 curves × 3 control points per curve). This should be recognized as a distinct visual category: 'functional geometric UI icon'—clean, symmetric, mathematically idealized, and minimally rendered. No new learning; this analysis reinforces the prior knowledge pattern.

- Reinforced: The combination of perfect circularity (1.00), convexity (1.00), aspect ratio (1.00), and 12 corners, paired with centered placement and stroke-based rendering with 8% fill, is a highly reliable signature of a minimal geometric UI icon. This pattern should be recognized immediately as belonging to the 'canonical UI element' category. No new learning; this confirms the prior pattern that was already documented.

- Reinforced: The combination of perfect circularity (1.00), convexity (1.00), aspect ratio (1.00), 12 corners, single-element structure, centered placement, and stroke-based rendering with 8% fill is a highly reliable signature of a canonical UI icon circle. This pattern appears across checkbox unchecked states, radio buttons, selection rings, and decorative circular borders. The 12-corner count is a standard Bézier approximation artifact and should not be misinterpreted as visual angularity. No new learning; this reinforces the established prior knowledge that stroke-based geometric primitives with perfect metrics are functional UI elements, distinct from illustrations or logos.

- No new learning. This SVG confirms the established prior knowledge pattern: perfect circularity (1.00), convexity (1.00), aspect ratio (1.00), 12 Bézier corners, single-element structure, centered placement, and stroke-only rendering with 8% fill are a highly reliable signature of a canonical geometric UI icon. This pattern should be recognized immediately as a functional UI element distinct from illustrations or logos.

- The enrichment system has a symmetry scoring issue: this SVG shows perfect radial symmetry in the silhouette (as visible in the Braille grid), yet reports 0.00 symmetry. This may indicate the symmetry metric is calculated at the composition/canvas level rather than the shape level. For circles and other perfect geometric primitives, shape-level symmetry should be reported separately from composition symmetry. Additionally, valleys in the radial profile for perfect circles at cardinal directions (0° and 270°) appear to be discretization artifacts of grid-based boundary tracing on stroke outlines, not actual shape concavities. A perfect circle's radial profile should be flat (constant distance = radius to all angles) when measured from the true center; grid artifacts should be filtered or noted separately.

- CONFIRMED WITH CLARIFICATION: The enrichment system's symmetry scoring appears to operate at the composition/canvas level rather than the shape level. A perfect circle shows 0.00 composition symmetry (likely because it's a single centered element with no paired or mirrored sub-elements), but should report 1.00 shape-level rotational symmetry. For stroke-based geometric primitives, a distinction should be made between composition-level symmetry and shape-level symmetry. Additionally, the SPATIAL INTERPRETATION layer (semantic analysis) is generating contradictory descriptions ('asymmetric', 'highly concave') that conflict with the actual geometric metrics and the visual appearance. This suggests the interpretation rules may be incorrectly weighting grid artifacts or composition-level measures when describing shape-level properties. Stroke-rendered circles with perfect metrics should be recognized and labeled directly as canonical UI circles, bypassing semantic interpretation that leads to false concavity or asymmetry claims.

- The enrichment system has a null-case handling bug: when SVGs contain zero paths (0 elements), the SPATIAL INTERPRETATION layer continues to generate semantic descriptions ('simple icon', 'asymmetric composition', 'highly asymmetric/abstract') that are meaningless and contradictory. For empty or malformed SVGs, the enrichment should explicitly report 'no elements' and skip semantic interpretation entirely. Additionally, the distinction between 'intentionally blank' (valid empty SVG), 'rendering failure' (broken SVG), and 'invisible content' (zero opacity, white-on-white, clipped) should be clarified in the enrichment output. This is a data validation issue, not a learning about visual patterns.

- CONFIRMED AND EXPANDED: The SPATIAL INTERPRETATION layer has a systematic bug in its semantic rules for stroke-based geometric primitives. When it encounters perfect metrics (1.00 circularity, 1.00 convexity, 1.00 aspect ratio) on a single-element centered composition, it should immediately classify the result as 'canonical geometric UI icon' and skip further semantic interpretation. Instead, it continues to apply rules designed for organic/illustrative content, generating false negatives like 'asymmetric' (0.00 symmetry at composition level, but 1.00 shape-level rotational symmetry), 'highly concave' (grid artifact misinterpreted as structural property), and 'abstract' (overcorrection on sparse fill). The fix: add a guard rule that detects the perfect-metrics + single-element + centered pattern and outputs 'geometric UI icon: [shape class]' without further processing. Additionally, the radial profile should have a post-processing filter that detects grid discretization artifacts on stroke outlines (cardinal valleys on otherwise flat profiles) and either removes them or flags them separately from true structural concavities.

- CRITICAL BUG CONFIRMED: The enrichment's SPATIAL INTERPRETATION layer has a systematic failure on stroke-based geometric primitives. When encountering perfect metrics (circularity=1.00, convexity=1.00, aspect_ratio=1.00) on a single-element centered composition, it should immediately output 'geometric UI icon: [shape_class]' and skip further semantic interpretation. Instead, it continues to apply rules designed for organic/illustrative content, generating false negatives: 'asymmetric' (conflating composition and shape symmetry), 'highly concave' (misinterpreting grid discretization artifacts as structural properties), and 'sparse/abstract' (misinterpreting stroke rendering as compositional sparsity). Additionally, the radial profile grid-tracing method produces spurious valleys at cardinal directions for circles; these should be filtered out or flagged separately from true concavities. The fix requires two changes: (1) Add a guard rule in SPATIAL INTERPRETATION that detects perfect-metrics + single-element + centered patterns and outputs 'geometric UI icon' without further processing. (2) Post-process radial profiles to filter out discretization artifacts on otherwise-flat profiles (constant-radius shapes should have flat radial profiles). This is not a learning about visual patterns—it is a data validation and rule-priority bug in the enrichment system itself.

- REINFORCED AND CLARIFIED: The enrichment system has a persistent architectural issue—it conflates composition-level symmetry (whether elements are arranged symmetrically) with shape-level symmetry (whether the shape itself is symmetric). A perfect circle rendered as a single centered stroke element has 0.00 composition symmetry (no paired sub-elements) but 1.00 shape-level rotational symmetry (the circle itself is infinitely symmetric). The SPATIAL INTERPRETATION layer should distinguish these explicitly and bypass semantic interpretation for stroke-based geometric primitives entirely. Additionally, grid-based silhouette tracing produces spurious discretization artifacts (cardinal-direction valleys on otherwise-constant-radius circles, spurious 'distinct regions' in mass distribution for centered shapes) that should be filtered in post-processing or flagged separately from true structural concavities. The 12-corner count is a reliable Bézier approximation signature for SVG circles and should be recognized as such, not misinterpreted as visual angularity. No new visual learning—this reinforces the prior pattern that canonical geometric UI icons need special handling at the enrichment layer to avoid false semantic descriptions.

- Confirmed: In character illustrations with multiple similar features (paired eyes, wheels, buttons), the enrichment's focal element coordinates and circularity metrics are reliable selectors for precise feature targeting. The 'far right' / x=89% descriptor correctly identified which eye (right, not left) without ambiguity. Additionally, small annotations positioned peripherally to features (rather than overlapping them) successfully preserve the underlying illustration's visual clarity while making the annotation intent obvious. This is distinct from overlaid annotations, which risk obscuring the feature they're meant to highlight. For future similar requests, use the enrichment's circularity + concentric group data as the primary targeting mechanism; directional descriptors (far right, upper-left, etc.) provide secondary verification.

- When a user requests a colloquial modification to an illustration with clear focal details (identified by enrichment as 'concentric group' with high circularity offset from center), the spatial reference's focal element coordinates are the primary targeting mechanism. The enrichment already identified the nut/acorn as the 'highest-circularity concentric group at x=89%'—this is actionable without further analysis. For future similar requests: (1) identify the target element using enrichment focal data, (2) extract its bounding box and current styling, (3) generate the replacement shape (apple = circular + stem, warm red fill), (4) preserve spatial position and size. The modification should be executed immediately, not explained—the enrichment analysis was already provided, now it's time to use it. This represents a shift from 'analyze and report' to 'analyze and execute'.

- CRITICAL BUG RECONFIRMED: The SPATIAL INTERPRETATION layer systematically fails on stroke-based geometric primitives by conflating composition-level and shape-level symmetry, misinterpreting grid discretization artifacts as structural concavities, and applying organic-illustration rules to canonical UI icons. For SVGs matching the pattern (perfect metrics + single element + centered + stroke), the interpretation layer should output 'geometric UI icon: [shape_class]' and skip all further semantic analysis. Additionally, radial profile post-processing should detect and filter constant-radius shapes' discretization artifacts (cardinal-direction valleys on otherwise-flat profiles). This is not a new visual learning—it is a critical architectural bug in the enrichment system that requires guard rule and post-processing fixes.

- CRITICAL PATTERN LEARNED: The enrichment system has a COMPOSITION LEVEL BLINDNESS issue. It correctly measures geometric properties (circularity, convexity, aspect ratio, symmetry) of individual elements, but fails to recognize SEMANTIC STRUCTURE when elements are layered (outer frame + central subject + paired features). When enrichment reports a large rounded/circular element with TWO symmetric small circular elements INSIDE it, the system should immediately flag this as 'face with eyes' or 'character icon,' not apply gem/crystal interpretation rules. Additionally, the enrichment does not distinguish between ISOLATED geometric shapes (where circularity + convexity + symmetry = gem/target/wheel) and COMPOSITIONAL FEATURES (where the same metrics on a central element surrounded by a frame = face/character head). A guard rule is needed: IF (large_circular_element with 2+ symmetric small circles inside) THEN output 'character face / mascot' BEFORE applying mineral/gem rules. This is not a visual learning—it is a critical gap in the enrichment's semantic rule hierarchy.
